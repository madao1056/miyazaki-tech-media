<article
  class="prose md:prose-lg py-8 prose-img:border prose-img:mx-auto prose-img:border-base-200 prose-p:break-words prose-a:break-all prose-pre:break-words prose-pre:cursor-text prose-code:break-words prose-code:whitespace-pre-wrap w-full max-w-full bg-white dark:bg-gray-800 rounded-lg shadow-sm"
  style="padding-left: 16px; padding-right: 16px;"
  data-pagefind-body
>
  <slot />
</article>

<style>
  .prose {
    max-width: 100% !important;
  }
  
  .prose p {
    margin-top: 0 !important;
    margin-bottom: 0 !important;
  }
  
  /* すべての画像にwidth: 100%を適用（CSS変数も上書き） */
  .prose img {
    width: 100% !important;
    max-width: 100% !important;
    height: auto !important;
    display: block;
    margin-left: auto !important;
    margin-right: auto !important;
    margin-top: 1rem !important;
    margin-bottom: 1rem !important;
  }
  
  /* max-w-mdクラスのCSS変数を上書き */
  .prose img.max-w-md {
    --container-md: 100% !important;
    max-width: 100% !important;
    width: 100% !important;
  }
  
  /* その他のmax-w-*クラスも強制的に100%に */
  .prose img[class*="max-w-"] {
    max-width: 100% !important;
    width: 100% !important;
  }
  
  /* mx-autoクラスがあっても100%幅を維持 */
  .prose img.mx-auto {
    width: 100% !important;
    max-width: 100% !important;
  }
  
  /* すべての記事内画像に対する最終的な強制指定 */
  article.prose img:not(.not-prose) {
    width: 100% !important;
    max-width: 100% !important;
  }
  
  /* アバター画像は例外（インライン表示） */
  .prose img.not-prose {
    display: inline !important;
    margin: 0 !important;
    width: auto !important;
    max-width: 64px !important;
  }
  
  /* グリッド内の画像 */
  .prose .grid img {
    width: 100% !important;
    object-fit: cover;
  }
  
  @media (min-width: 768px) {
    article {
      padding-left: 34px !important;
      padding-right: 34px !important;
    }
  }
</style>
